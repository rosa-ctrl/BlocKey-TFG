<!DOCTYPE html>
<html dir="ltr">
	<head>
		<meta charset="utf-8">
		<!-- ==== TITULO DEL DOCUMENTO ==== -->
    	<title> BlocKey | Mi caja fuerte </title>

    	<!-- ==== HOJAS DE ESTILOS ==== -->
    	<!-- --- Hojas de estilo principal --- -->
    	<link href="static/css/style.css" rel="stylesheet">

        <!-- --- Tipografía --- -->
        <link href="https://fonts.googleapis.com/css2?family=Open+Sans&display=swap" rel="stylesheet">

        <!-- --- JavaScript --- -->
        <script src="static/js/function.js"></script>
	</head>

    <!-- ==== CUERPO PRINCIPAL ==== -->
    <body>

    	<!-- --- Menú de navegación --- -->
    	<nav class="nav">
      		<a id="inicio"> BlocKey</a>
      		<ul>
        		<li>
                    <div><img src="static/images/usuario.png"></div>
                    <a href="profile.html">Mi perfil</a>
                </li>
                <li>
                    <div><img src="static/images/escudo.png"></div>
                    <a href="security.html">Seguridad de mis contraseñas</a>
                </li>
                <li>
                    <div><img src="static/images/support.png"></div>
                    <a href="support.html">Ayuda</a>
                </li>
                <li>
                    <div><img src="static/images/cerrar-sesion.png"></div>
                    <a onclick="confirmacionSalida()">Cerrar sesión</a>
                    <div id="cerrar_sesion" class="popup_cierre_sesion">
                        <p>¿Estás seguro de que quieres cerrar sesión?</p>
                        <button id="salir" onclick="closeConfirmacionSalidaSi()">¡Sí!</button>
                        <button onclick="closeConfirmacionSalidaNo()">Cancelar</button>
                    </div>
                </li>
      		</ul>
    	</nav>

    	<!-- --- Bloque de encabezado --- -->
		<header class="header-content">
                <h1>Mi caja fuerte</h1>
                <h2>Todas mis contraseñas y mi información personal guardadas</h2>
        </header>

    	<!-- --- Bloque principal --- -->
        <div class="container">
            <div class="content">
                <div class="button-container">
                    <div class="button-container">
                        <button type="button" onclick="openAddPsw()"><img style="margin-right: 15px;" src="static/images/anadir.png">Añadir contraseña</button>
                        <button type="button" onclick="openAddInf()"><img style="margin-right: 15px;" src="static/images/anadir.png">Añadir información</button>
                    </div>
                    <table id="tabla">
                        <thead>
                          <tr>
                            <th>Tipo</th>
                            <th>Información</th>
                            <th>Fecha de registro</th>
                            <th>Edición</th>
                            <th>Borrar</th>
                          </tr>
                        </thead>
                        <tbody>
                            <script>
                                if(sessionStorage['typeValue1'] != undefined) {
                                    document.write('<tr><td>'+sessionStorage['typeValue1']+'</td><td><button onclick=openRegister(1)>'+sessionStorage['usersValue1']+'</button></td>');
                                    document.write('<td>'+sessionStorage['dateValue1']+'</td><td><button onclick=openEditRegister(1)><img style="margin-right: 15px;" src="static/images/editar.png">Editar registro</button></td><td><button onclick=borrarReg(1)><img style="margin-right: 15px;" src="static/images/borrar.png">Borrar registro</button></td>');
                                }
                                 
                                if(sessionStorage['typeValue2'] != undefined) {
                                    document.write('<tr><td>'+sessionStorage['typeValue2']+'</td><td><button onclick=openRegister(2)>'+sessionStorage['usersValue2']+'</button></td>');
                                    document.write('<td>'+sessionStorage['dateValue2']+'</td><td><button onclick=openEditRegister(2)><img style="margin-right: 15px;" src="static/images/editar.png">Editar registro</button></td><td><button onclick=borrarReg(2)><img style="margin-right: 15px;" src="static/images/borrar.png">Borrar registro</button></td>');
                                }
                                 
                                if(sessionStorage['typeValue3'] != undefined) {
                                    document.write('<tr><td>'+sessionStorage['typeValue3']+'</td><td><button onclick=openRegister(3)>'+sessionStorage['usersValue3']+'</button></td>');
                                    document.write('<td>'+sessionStorage['dateValue3']+'</td><td><button onclick=openEditRegister(3)><img style="margin-right: 15px;" src="static/images/editar.png">Editar registro</button></td><td><button onclick=borrarReg(3)><img style="margin-right: 15px;" src="static/images/borrar.png">Borrar registro</button></td>');
                                }
                                
                                if(sessionStorage['typeValue4'] != undefined) {
                                    document.write('<tr><td>'+sessionStorage['typeValue4']+'</td><td><button onclick=openRegister(4)>'+sessionStorage['usersValue4']+'</button></td>');
                                    document.write('<td>'+sessionStorage['dateValue4']+'</td><td><button onclick=openEditRegister(4)><img style="margin-right: 15px;" src="static/images/editar.png">Editar registro</button></td><td><button onclick=borrarReg(4)><img style="margin-right: 15px;" src="static/images/borrar.png">Borrar registro</button></td>');
                                }
                            </script>
                            </tr>
                        </tbody>
                    </table>

                    <!-- Pop up para añadir un registro de tipo contraseña-->
                    <div id="AddPsw" class="popup" style="height: 650px;">
                        <h2>Añadir contraseña-usuario</h2>
                        <form id='fPass' name='fPass'>
                            <div class="form-group">
                                <label for="email">Nombre del registro:</label>
                                <input type="text" id="name_register" name="username" required>
                            </div>
                            <div class="form-group">
                                <label for="password">Contraseña:</label>
                                <input id="password" name="password" required>
                                <div style="margin-top: 20px;"> 
                                    <a style="color: black; font-size: 20px;" onclick="mostrarCaracteristicas()">¿Quieres crear tu contraseña de manera aleatoria? ¡Pulsa aquí!</a>
                                </div>
                                <div id="caracteristicas" style="margin-top: 20px; display: none;">
                                    <div class="column2">
                                        <label for="tentacles">Longitud de la contraseña:</label>
                                        <input type="number" id="tentacles" name="tentacles" min="8" max="20" value="8" style="text-align: center;">   
                                    </div>
                                    <div class="column2">
                                        <fieldset>
                                            <legend>Elige el contenido de la contraseña</legend>
                                            <label style="font-weight: normal;"><input style="width: 30px;" type="checkbox" id="mayus" name="mayus" checked>Letras mayúsculas</label>
                                            <label style="font-weight: normal;"><input style="width: 30px;" type="checkbox" id="number" name="number" checked>Números del 1 al 9</label>
                                            <label style="font-weight: normal;"><input style="width: 30px;" type="checkbox" id="specials" name="specials" checked>Caracteres especiales</label>
                                        </fieldset>    
                                    </div>
                                    <a style="color: black; font-size: 20px;" onclick="generarPassword()"><img style="margin-right: 15px;" src="static/images/aleatorio.png">Crear contraseña aleatoria</a>
                                </div>
                            </div>
                        </form>
                        <button onclick="addrow_AddPsw(document.fPass.name_register.value, document.fPass.password.value)">Guardar cambios</button>
                        <button onclick="closeAddPsw()">Cancelar</button>
                    </div>

                    <!-- Pop up para añadir un registro de tipo información-->
                    <div id="AddInf" class="popup">
                        <h2>Añadir registro</h2>
                        <form id='fAdd' name='fAdd'>
                            <div class="form-group">
                                <label for="email">Nombre del registro:</label>
                                <input type="text" id="name_register" name="name_register" required>
                            </div>
                            <div class="form-group">
                                <label for="password">Información:</label>
                                <input type="text" id="password" name="password" required>
                            </div>
                        </form>
                        <button onclick="addrow_AddInf(document.fAdd.name_register.value, document.fAdd.password.value)">Guardar cambios</button>
                        <button onclick="closeAddInf()">Cancelar</button>
                    </div>

                    <!-- Pop up para editar un registro-->
                    <div id="editRegister" class="popup">
                        <h2>Editar registro</h2>
                        <form id='fEdit' name='fEdit'>
                            <div class="form-group">
                                <label for="email">Nombre del registro:</label>
                                <input type="text" id="name_register_ed" name="name_register_ed" required>
                            </div>
                            <div class="form-group">
                                <label for="password">Secreto del registro:</label>
                                <input type="text" id="password_ed" name="password_ed" required>
                            </div>
                              <input type="text" id="pos" name="pos" hidden>
                        </form>
                        <button onclick="editReg(document.fEdit.pos.value)">Guardar cambios</button>
                        <button onclick="closeEditRegister()">Cancelar</button>
                    </div>

                    <!-- Pop up para mostrar el contenido de un registro -->
                    <div id="showRegister" class="popup">
                        <h2>Información del registro</h2>
                        <form id='fShow' name='fShow'>
                            <div class="form-group">
                                <label for="email">Nombre del registro:</label>
                                <input type="text" id="name_register_show" name="name_register_show" required>
                            </div>
                            <div class="form-group">
                                <label for="password">Secreto guardado:</label>
                                <input type="text" id="secret_show" name="secret_show" required>
                            </div>
                              <input type="text" id="pos" name="pos" hidden>
                        </form>
                        <button onclick="closeShowRegister()">Cerrar registro</button>
                    </div>
                </div>
        </div>

        	<!-- --- Footer --- -->
            <footer>
                <p>&copy; 2023&nbsp;<a href="index.html">BlocKey</a>, Todos los derechos reservados</p>
        	</footer>
        </div>
    </body>
</html>